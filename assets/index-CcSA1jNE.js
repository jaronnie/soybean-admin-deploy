import{n as C,d as E,M as I,C as O,P as $,A as z,a as R,$ as n,r as F,o,c as u,w as e,f as s,h as t,b as N,s as w,F as S,g as r,t as i,R as h,B as P,L as U,N as H}from"./index-DTCgPdtS.js";import{_ as M}from"./Space-BxRv4wJm.js";import{_ as j,a as q}from"./DescriptionsItem-DK98cmVy.js";import"./get-slot-Bk_rJcZu.js";function G(){const d=C();function m(l){return d.isLogin?typeof l=="string"?d.userInfo.buttons.includes(l):l.some(p=>d.userInfo.buttons.includes(p)):!1}return{hasAuth:m}}const Z=E({name:"function_toggle-auth",__name:"index",setup(d){const m=I(),l=O(),p=C(),B=$(),{hasAuth:f}=G(),{loading:k,startLoading:L,endLoading:v}=z(),D=R(()=>[{key:"super",label:n("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:n("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:n("page.login.pwdLogin.user"),userName:"User",password:"123456"}]),b=F("super");async function T(c){b.value=c.key,L(),await p.login(c.userName,c.password,!1),B.initTabStore(m),v(),l.reloadPage()}return(c,J)=>{const V=H,_=M,A=j,g=P,x=q,y=U;return o(),u(_,{vertical:"",size:16},{default:e(()=>[s(y,{title:t(n)("route.function_toggle-auth"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(x,{bordered:"",column:1},{default:e(()=>[s(A,{label:t(n)("page.manage.user.userRole")},{default:e(()=>[s(_,null,{default:e(()=>[(o(!0),N(S,null,w(t(p).userInfo.roles,a=>(o(),u(V,{key:a},{default:e(()=>[r(i(a),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(A,{"ions-item":"",label:t(n)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(_,null,{default:e(()=>[(o(!0),N(S,null,w(D.value,a=>(o(),u(g,{key:a.key,loading:t(k)&&b.value===a.key,disabled:t(k)&&b.value!==a.key,onClick:K=>T(a)},{default:e(()=>[r(i(a.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["title"]),s(y,{title:t(n)("page.function.toggleAuth.authHook"),bordered:!1,size:"small",segmented:"",class:"card-wrapper"},{default:e(()=>[s(_,null,{default:e(()=>[t(f)("B_CODE1")?(o(),u(g,{key:0},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):h("",!0),t(f)("B_CODE2")?(o(),u(g,{key:1},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminVisible")),1)]),_:1})):h("",!0),t(f)("B_CODE3")?(o(),u(g,{key:2},{default:e(()=>[r(i(t(n)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])]),_:1})}}});export{Z as default};
